<!DOCTYPE html>
<html lang="es">

<head>
  <title>Dispatch - Alpine.js</title>
  <meta charset="utf-8" />
  <link href="https://unpkg.com/tailwindcss@^1.0/dist/tailwind.min.css" rel="stylesheet" />
  <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.x.x/dist/alpine.min.js" defer></script>
</head>

<body>

  <div class="flex justify-center bg-gray-100">
    <div x-data="setup()" class="m-5">
      <p class="text-center text-5xl">Dispatch</p>

    <div @update-cart="updateCart($event.detail.qty)">
      <a :class="{ 'disabled pointer-events-none': qty === 0 }" href="#">
        Productos en el carrito <span x-text="qty"></span>
      </a>
      <br />
      <button @click="$dispatch('update-cart', { qty: 10 })"
        class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-full">
        Actualizar cantidad
      </button>
    </div>
    </div>
  </div>

<script>
  function setup() {
    return {
      qty: 0,
      updateCart(qty) {
        this.qty = qty;
      }
    }
  }
</script>
</body>
</html>